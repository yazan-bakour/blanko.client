@page "/"

@using Banko.Client.Models
@using Banko.Client.Services
@using Banko.Client.Services.User
@using Banko.Client.Services.Auth

@inject UserStateService UserState
@inject IAuthService AuthService
@inject ISnackbar Snackbar
@inject LoadingService LoadingService

<MudCard Elevation="25" Class="pa-4">
  <MudCardHeader Class="justify-center">
    <AuthorizeView>
      <Authorized>
        @{
          var userId = context.User.FindFirst(ClaimTypes.NameIdentifier);
          var userName = context.User.Identity?.Name ?? "User";
        }
        <MudText Typo="Typo.h5" Align="Align.Center">Welcome back @userName</MudText>
      </Authorized>
      <NotAuthorized>
        <MudText Typo="Typo.h5" Align="Align.Center">Welcome, Guest</MudText>
      </NotAuthorized>
    </AuthorizeView>
  </MudCardHeader>
  <MudCardContent>
    <MudText Typo="Typo.subtitle1" Align="Align.Center">Welcome to your new app.</MudText>
  </MudCardContent>
</MudCard>
